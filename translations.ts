
export const getLanguage = () => {
  if (typeof window !== 'undefined' && window.navigator) {
    const lang = window.navigator.language.toLowerCase();
    return lang.startsWith('pt') ? 'pt' : 'en';
  }
  return 'en';
};

const lang = getLanguage();

const translations = {
  pt: {
    dashboard: "Painel",
    os: "Ordens de Serviço",
    client: "Cliente",
    clients: "Clientes",
    vehicles: "Veículos",
    inventory: "Estoque",
    services: "Serviços",
    sales: "Vendas",
    financial: "Financeiro",
    settings: "Configurações",
    logout: "Sair",
    welcome_back: "Bem-vindo de volta",
    search: "Buscar...",
    new_project: "Novo Projeto",
    total_clients: "Total de Clientes",
    weekly_revenue: "Receita Semanal",
    recent_os: "Atividades Recentes de OS",
    name: "Nome",
    status: "Status",
    email: "Email",
    phone: "Telefone",
    address: "Endereço",
    total: "Total",
    vehicle: "Veículo",
    units: "Unidades",
    last_service: "Último Serviço",
    ai_diagnostic: "Diagnóstico de IA",
    description: "Descrição do Problema",
    get_ai_rec: "Obter Recomendações de IA",
    low_stock: "Estoque Baixo",
    optimal: "Ideal",
    sku: "Referência SKU",
    price: "Preço",
    revenue: "Receita Total",
    profit: "Lucro Líquido",
    expense: "Despesa",
    income: "Receita",
    costs: "Custos Operacionais",
    pending_payouts: "Pagamentos Pendentes",
    recent_transactions: "Transações Recentes",
    payment_distribution: "Distribuição de Pagamentos",
    sys_settings: "Configurações do Sistema",
    sys_settings_desc: "Gerencie a identidade da oficina e protocolos de serviço",
    workshop_identity: "Identidade da Oficina",
    business_name: "Nome da Empresa",
    tax_id: "CNPJ / CPF",
    upload_logo: "Subir Logo",
    automation_api: "Automação & API",
    whatsapp_notif: "Notificações WhatsApp",
    ai_engine: "Motor de Diagnóstico IA",
    cancel: "Cancelar",
    save_changes: "Salvar Alterações",
    customer_db: "Base de Clientes",
    customer_db_desc: "Gerencie e acompanhe seus motociclistas",
    register_client: "Cadastrar Cliente",
    register_vehicle: "Cadastrar Veículo",
    export_csv: "Exportar CSV",
    inventory_mgt: "Gestão de Estoque",
    inventory_mgt_desc: "Peças, suprimentos e níveis técnicos",
    import_xml: "Importar XML",
    add_item: "Adicionar Item",
    add_service: "Adicionar Serviço",
    part_desc: "Descrição da Peça",
    service_desc: "Descrição do Serviço",
    qty: "Quantidade",
    category: "Categoria",
    estim_time: "Tempo Estimado",
    financial_overview: "Visão Geral Financeira",
    financial_desc: "Acompanhamento de receitas, despesas e lucros",
    generate_report: "Gerar Relatório",
    active: "Ativo",
    inactive: "Inativo",
    waiting_parts: "Aguardando Peças",
    finished: "Finalizado",
    cancelled: "Cancelado",
    in_progress: "Em Andamento",
    open: "Aberto",
    quote: "Orçamento",
    awaiting_approval: "Aguardando Aprovação",
    approved: "Aprovado",
    ready: "Pronto / Retirada",
    delivered: "Entregue",
    os_body_lines: "Corpo da OS (9 Linhas)",
    body_line: "Linha",
    print_os: "Imprimir OS",
    print_preview: "Visualizar Impressão",
    inkjet_laser: "Jato de Tinta / Laser",
    report_os: "Relatório de OS",
    by_mechanic: "Por Mecânico",
    by_client: "Por Cliente",
    by_status: "Por Status",
    register_new_client: "Cadastrar Novo Cliente",
    quick_client_registration: "Cadastro de Cliente",
    select_mechanic: "Selecionar Mecânico",
    mechanic: "Mecânico",
    total_os: "Total de OS",
    total_value: "Valor Total",
    filters: "Filtros",
    start_date: "Data Início",
    end_date: "Data Fim",
    export: "Exportar",
    status_change: "Alterar Status",
    status_notes: "Notas do Status",
    sales_mgt: "Gestão de Vendas",
    sales_mgt_desc: "Pedidos, Orçamentos e Histórico",
    new_sale: "Nova Venda / Orçamento",
    seller: "Vendedor",
    order: "Pedido",
    sale_order: "Pedido de Venda",
    sale_quote: "Orçamento de Venda",
    barcode: "Código de Barras",
    manual_item: "Item Manual",
    item_discount: "Desc. Item",
    total_discount: "Desc. Total",
    payment_method: "Forma de Pagamento",
    cash: "À Vista",
    installments: "A Prazo (Contas a Receber)",
    installments_count: "Nº de Parcelas",
    non_fiscal_receipt: "Cupom Não Fiscal",
    dot_matrix_80col: "Matricial 80 Colunas",
    sale_reports: "Relatórios de Vendas",
    summary: "Resumido",
    detailed: "Detalhado",
    period: "Período",
    finalize_sale: "Finalizar Venda",
    stock_deduction_info: "A baixa no estoque ocorrerá ao finalizar.",
    include: "Incluir",
    alter: "Alterar",
    finalize: "Finalizar",
    emit: "Emitir",
    search_sales: "Pesquisas",
    login_title: "Entrar no Sistema",
    register_title: "Criar Nova Conta",
    sign_in: "Entrar",
    get_started: "Começar Agora",
    password: "Senha",
    new_os_title: "Nova Ordem de Serviço",
    client_name: "Nome do Cliente",
    add: "Adicionar",
    fill_all_fields: "Preencha todos os campos",
    generating_report: "Gerando Relatório Financeiro...",
    report_title: "Análise Financeira de IA",
    download_pdf: "Baixar PDF",
    close: "Fechar",
    brand: "Marca",
    model: "Modelo",
    year: "Ano",
    plate: "Placa",
    color: "Cor",
    owner: "Proprietário",
    add_vehicle: "Adicionar Veículo",
    pos: "PDV / Vendas",
    checkout: "Finalizar Venda",
    cart_empty: "Carrinho Vazio",
    subtotal: "Subtotal",
    discount: "Desconto",
    complete_sale: "Confirmar Venda",
    status_updated: "Status atualizado!",
    client_registered: "Cliente cadastrado com sucesso!",
    select_client: "Selecionar Cliente",
    select_vehicle: "Selecionar Veículo",
    clear_cart: "Limpar",
    search_products: "Pesquisar produtos...",
    out_of_stock: "Sem Estoque",
    fiscal_settings: "Configurações Fiscais",
    fiscal_env: "Ambiente (Sefaz)",
    prod_env: "Produção (Real)",
    homolog_env: "Homologação (Testes)",
    regime_tributario: "Regime Tributário",
    ie: "Inscrição Estadual",
    im: "Inscrição Municipal",
    digital_cert: "Certificado Digital A1",
    issue_nfce: "Emitir NFC-e",
    issue_nfe: "Emitir NFe",
    fiscal_status: "Status Fiscal",
    authorized: "Autorizada",
    rejected: "Rejeitada",
    pending: "Pendente",
    view_danfe: "Ver DANFE",
    ncm_ai_assist: "Assistência NCM por IA",
    user_profile: "Perfil do Usuário",
    security: "Segurança",
    fiscal_ops: "Faturamento & Operações Fiscais",
    cert_sync: "Sincronizar Certificado A1",
    cert_status: "Status do Certificado",
    not_configured: "Não Configurado",
    automation_desc: "Automações Inteligentes",
    smart_reports: "Relatórios Smart",
    cloud_sync: "Sincronização Cloud",
    consult_os: "Consultar OS",
    os_status_tracking: "Acompanhamento de OS",
    enter_plate: "Digite a Placa",
    enter_tax_id: "CPF ou CNPJ do Cliente",
    search_os: "Buscar Ordem de Serviço",
    os_not_found: "Nenhuma ordem de serviço encontrada.",
    track_your_service: "Acompanhe o serviço da sua moto em tempo real.",
    back_to_login: "Voltar para Login",
    team: "Equipe",
    mechanics: "Mecânicos",
    add_mechanic: "Adicionar Mecânico",
    edit_mechanic: "Editar Mecânico",
    specialty: "Especialidade",
    employment_type: "Tipo de Contratação",
    base_salary: "Salário Base",
    commission_rate: "Taxa de Comissão (%)",
    active_mechanic: "Ativo",
    inactive_mechanic: "Inativo",
    commission: "Comissão",
    clt: "CLT",
    clt_commission: "CLT + Comissão",
    mechanic_details: "Detalhes do Mecânico"
  },
  en: {
    dashboard: "Dashboard",
    os: "Service Orders",
    client: "Client",
    clients: "Clients",
    vehicles: "Vehicles",
    inventory: "Inventory",
    services: "Services",
    sales: "Sales",
    financial: "Financial",
    settings: "Settings",
    logout: "Logout",
    welcome_back: "Welcome back",
    search: "Search...",
    new_project: "New Project",
    total_clients: "Total Clients",
    weekly_revenue: "Weekly Revenue",
    recent_os: "Recent OS Activity",
    name: "Name",
    status: "Status",
    email: "Email",
    phone: "Phone",
    address: "Address",
    total: "Total",
    vehicle: "Vehicle",
    units: "Units",
    last_service: "Last Service",
    ai_diagnostic: "AI Diagnostic",
    description: "Issue Description",
    get_ai_rec: "Get AI Recommendations",
    low_stock: "Low Stock",
    optimal: "Optimal",
    sku: "SKU Ref",
    price: "Price",
    revenue: "Total Revenue",
    profit: "Net Profit",
    expense: "Expense",
    income: "Income",
    costs: "Operational Costs",
    pending_payouts: "Pending Payouts",
    recent_transactions: "Recent Transactions",
    payment_distribution: "Payment Distribution",
    sys_settings: "System Settings",
    sys_settings_desc: "Manage workshop identity and service protocols",
    workshop_identity: "Workshop Identity",
    business_name: "Business Name",
    tax_id: "Tax ID / CNPJ",
    upload_logo: "Upload Logo",
    automation_api: "Automation & API",
    whatsapp_notif: "WhatsApp Notifications",
    ai_engine: "AI Diagnostic Engine",
    cancel: "Cancel",
    save_changes: "Save Changes",
    customer_db: "Customer Database",
    customer_db_desc: "Manage and track your motorcycle riders",
    register_client: "Register Client",
    register_vehicle: "Register Vehicle",
    export_csv: "Export CSV",
    inventory_mgt: "Inventory Management",
    inventory_mgt_desc: "Parts, supplies and technical stock levels",
    import_xml: "Import XML",
    add_item: "Add Item",
    add_service: "Add Service",
    part_desc: "Part Description",
    service_desc: "Service Description",
    qty: "Quantity",
    category: "Category",
    estim_time: "Estim. Time",
    financial_overview: "Financial Overview",
    financial_desc: "Revenue, expenses and profit tracking",
    generate_report: "Generate Report",
    active: "Active",
    inactive: "Inactive",
    waiting_parts: "Waiting Parts",
    finished: "Finished",
    cancelled: "Cancelled",
    in_progress: "In Progress",
    open: "Open",
    quote: "Quote",
    awaiting_approval: "Awaiting Approval",
    ready: "Ready for Pickup",
    delivered: "Delivered",
    os_body_lines: "OS Body (9 Lines)",
    body_line: "Line",
    print_os: "Print OS",
    print_preview: "Print Preview",
    inkjet_laser: "Inkjet / Laser",
    report_os: "OS Report",
    by_mechanic: "By Mechanic",
    by_client: "By Client",
    by_status: "By Status",
    register_new_client: "Register New Client",
    quick_client_registration: "Client Registration",
    select_mechanic: "Select Mechanic",
    mechanic: "Mechanic",
    total_os: "Total OS",
    total_value: "Total Value",
    filters: "Filters",
    start_date: "Start Date",
    end_date: "End Date",
    export: "Export",
    status_change: "Change Status",
    status_notes: "Status Notes",
    sales_mgt: "Sales Management",
    sales_mgt_desc: "Orders, Quotes and History",
    new_sale: "New Sale / Quote",
    seller: "Seller",
    order: "Order",
    sale_order: "Sales Order",
    sale_quote: "Sales Quote",
    barcode: "Barcode",
    manual_item: "Manual Item",
    item_discount: "Item Disc.",
    total_discount: "Total Disc.",
    payment_method: "Payment Method",
    cash: "Cash",
    installments: "Installments (Accounts Receivable)",
    installments_count: "Installments Count",
    non_fiscal_receipt: "Non-Fiscal Receipt",
    dot_matrix_80col: "Dot Matrix 80 Cols",
    sale_reports: "Sales Reports",
    summary: "Summary",
    detailed: "Detailed",
    period: "Period",
    finalize_sale: "Finalize Sale",
    stock_deduction_info: "Stock will be deducted upon finalization.",
    include: "Include",
    alter: "Alter",
    finalize: "Finalize",
    emit: "Emit",
    search_sales: "Search",
    login_title: "Welcome back",
    register_title: "Create account",
    sign_in: "Sign In",
    get_started: "Get Started",
    password: "Password",
    new_os_title: "New Service Order",
    client_name: "Customer Name",
    add: "Add",
    fill_all_fields: "Please fill all fields",
    generating_report: "Generating Financial Report...",
    report_title: "AI Financial Analysis",
    download_pdf: "Download PDF",
    close: "Close",
    brand: "Brand",
    model: "Model",
    year: "Year",
    plate: "Plate",
    color: "Color",
    owner: "Owner",
    add_vehicle: "Add Vehicle",
    pos: "POS / Sales",
    checkout: "Checkout",
    cart_empty: "Cart Empty",
    subtotal: "Subtotal",
    discount: "Discount",
    complete_sale: "Complete Sale",
    status_updated: "Status updated!",
    client_registered: "Client registered successfully!",
    select_client: "Select Client",
    select_vehicle: "Select Vehicle",
    clear_cart: "Clear",
    search_products: "Search products...",
    out_of_stock: "Out of Stock",
    fiscal_settings: "Fiscal Settings",
    fiscal_env: "Environment (Sefaz)",
    prod_env: "Production",
    homolog_env: "Sandbox (Tests)",
    regime_tributario: "Tax Regime",
    ie: "State Tax ID",
    im: "Municipal Tax ID",
    digital_cert: "A1 Digital Certificate",
    issue_nfce: "Issue NFC-e",
    issue_nfe: "Issue NFe",
    fiscal_status: "Fiscal Status",
    authorized: "Authorized",
    rejected: "Rejected",
    pending: "Pending",
    view_danfe: "View DANFE",
    ncm_ai_assist: "NCM AI Assistance",
    user_profile: "User Profile",
    security: "Security",
    fiscal_ops: "Billing & Fiscal Operations",
    cert_sync: "Sync A1 Certificate",
    cert_status: "Certificate Status",
    not_configured: "Not Configured",
    automation_desc: "Smart Automations",
    smart_reports: "Smart Reports",
    cloud_sync: "Cloud Sync",
    consult_os: "Check OS",
    os_status_tracking: "OS Status Tracking",
    enter_plate: "Enter Plate",
    enter_tax_id: "Client Tax ID / CPF",
    search_os: "Search Service Order",
    os_not_found: "No service order found.",
    track_your_service: "Track your bike's service in real-time.",
    back_to_login: "Back to Login",
    team: "Team",
    mechanics: "Mechanics",
    add_mechanic: "Add Mechanic",
    edit_mechanic: "Edit Mechanic",
    specialty: "Specialty",
    employment_type: "Employment Type",
    base_salary: "Base Salary",
    commission_rate: "Commission Rate (%)",
    active_mechanic: "Active",
    inactive_mechanic: "Inactive",
    commission: "Commission",
    clt: "CLT",
    clt_commission: "CLT + Commission",
    mechanic_details: "Mechanic Details"
  }
};

export const t = (key: keyof typeof translations['en']): string => {
  return translations[lang][key] || translations['en'][key] || key;
};
